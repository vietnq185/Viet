{"version":3,"sources":["server/models/app.postgres.model.js"],"names":["debug","require","FIND","ONE","ALL","COUNT","defaultParams","select","from","join","where","groupBy","having","orderBy","limit","offset","buildQuery","fromTable","objParams","findType","params","copy","arrQuery","push","isNotEmptyArray","i","length","type","table","on","isNotEmptyString","parseInt","isNaN","sql","AppPostgresModel","primaryKey","schema","_table","_primaryKey","_schema","_params","query","command","values","execute","then","result","rows","resolve","catch","reject","err","resultSql","sqlWithJoin","count","TOTAL_RECORDS","arrKeyFields","arrResultFields","strKeySeparator","findAll","results","objResults","getDataPair","data","outputAsArray","isNotEmptyObject","vData","fields","counter","objData","pValues","key","hasOwnProperty","value"],"mappings":";;;;;;qjBAAA;;;AACA;;;;AAEA;;;;AACA;;;;;;;;AAEA,IAAMA,QAAQC,QAAQ,OAAR,EAAiB,6BAAjB,CAAd;;AAEA;;AAEA,IAAMC,OAAO;AACXC,OAAK,iBADM;AAEXC,OAAK,kBAFM;AAGXC,SAAO;AAHI,CAAb;;AAMA,IAAMC,gBAAgB;AACpBC,UAAQ,IADY,EACN;AACdC,QAAM,IAFc,EAER;AACZC,QAAM,EAHc,EAGV;AACVC,SAAO,EAJa,EAIT;AACXC,WAAS,IALW,EAKL;AACfC,UAAQ,IANY,EAMN;AACdC,WAAS,IAPW,EAOL;AACfC,SAAO,IARa,EAQP;AACbC,UAAQ,IATY,EAAtB;;AAYA,IAAMC,aAAa,SAAbA,UAAa,CAACC,SAAD,EAAYC,SAAZ,EAA+C;AAAA,MAAxBC,QAAwB,uEAAbjB,KAAKE,GAAQ;;AAChE,MAAMgB,SAAS,gBAAMC,IAAN,CAAWH,SAAX,CAAf;AACA,MAAII,WAAW,EAAf,CAFgE,CAE5C;AACpB,UAAQH,QAAR;AACE,SAAKjB,KAAKG,KAAV;AACEe,aAAOb,MAAP,GAAgB,6BAAhB;AACA;AACF,SAAKL,KAAKC,GAAV;AACEiB,aAAON,KAAP,GAAe,CAAf;AACA;AACF,SAAKZ,KAAKE,GAAV;AACA;AARF;AAUA;AACA,MAAIgB,OAAOb,MAAP,KAAkB,IAAtB,EAA4B;AAC1Ba,WAAOb,MAAP,GAAgB,GAAhB;AACD;AACD;AACAe,WAASC,IAAT,aAAwBH,OAAOb,MAA/B;AACA;AACAe,WAASC,IAAT,WAAsBN,SAAtB;AACA;AACA,MAAI,gBAAMO,eAAN,CAAsBJ,OAAOX,IAA7B,CAAJ,EAAwC;AACtC,SAAK,IAAIgB,IAAI,CAAb,EAAgBA,IAAIL,OAAOX,IAAP,CAAYiB,MAAhC,EAAwCD,GAAxC,EAA6C;AAAE;AAC7C,UAAMhB,OAAOW,OAAOX,IAAP,CAAYgB,CAAZ,CAAb;AACAH,eAASC,IAAT,CAAiBd,KAAKkB,IAAtB,cAAmClB,KAAKmB,KAAxC,YAAoDnB,KAAKoB,EAAzD;AACD;AACF;AACD;AACA,MAAI,gBAAML,eAAN,CAAsBJ,OAAOV,KAA7B,CAAJ,EAAyC;AACvCY,aAASC,IAAT,aAAwBH,OAAOV,KAAP,CAAaD,IAAb,CAAkB,SAAlB,CAAxB;AACD;AACD;AACA,MAAI,gBAAMqB,gBAAN,CAAuBV,OAAOT,OAA9B,CAAJ,EAA4C;AAC1CW,aAASC,IAAT,eAA0BH,OAAOT,OAAjC;AACD;AACD;AACA,MAAI,gBAAMmB,gBAAN,CAAuBV,OAAOR,MAA9B,CAAJ,EAA2C;AACzCU,aAASC,IAAT,aAAwBH,OAAOR,MAA/B;AACD;AACD;AACA,MAAI,gBAAMkB,gBAAN,CAAuBV,OAAOP,OAA9B,CAAJ,EAA4C;AAC1CS,aAASC,IAAT,eAA0BH,OAAOP,OAAjC;AACD;AACD;AACA,MAAMC,QAAQiB,SAASX,OAAON,KAAhB,EAAuB,EAAvB,CAAd;AACA,MAAI,CAACkB,MAAMlB,KAAN,CAAD,IAAiBA,QAAQ,CAA7B,EAAgC;AAC9BQ,aAASC,IAAT,YAAuBT,KAAvB;AACD;AACD;AACA,MAAMC,SAASgB,SAASX,OAAOL,MAAhB,EAAwB,EAAxB,CAAf;AACA,MAAI,CAACiB,MAAMjB,MAAN,CAAD,IAAkBA,UAAU,CAAhC,EAAmC;AACjCO,aAASC,IAAT,aAAwBR,MAAxB;AACD;AACD;AACA,MAAMkB,MAAMX,SAASb,IAAT,CAAc,GAAd,CAAZ,CAvDgE,CAuDhC;AAChCT,QAAM,+BAAN,EAAuCoB,MAAvC;AACApB,QAAM,8BAAN,EAAsCiC,GAAtC;AACA,SAAOA,GAAP;AACD,CA3DD;;AA6DA;;AAEA;;;;IAGMC,gB;AACJ;AACA,4BAAYN,KAAZ,EAAiD;AAAA,QAA9BO,UAA8B,uEAAjB,EAAiB;AAAA,QAAbC,MAAa,uEAAJ,EAAI;;AAAA;;AAC/C,SAAKC,MAAL,GAAcT,KAAd,CAD+C,CACzB;AACtB,SAAKU,WAAL,GAAmBH,UAAnB,CAF+C,CAEhB;AAC/B,SAAKI,OAAL,GAAeH,MAAf,CAH+C,CAGvB;;AAExB,SAAKI,OAAL,GAAe,gBAAMnB,IAAN,CAAWf,aAAX,CAAf,CAL+C,CAKL;AAC3C;;;;+BAEU;AACT,aAAO,KAAK+B,MAAZ;AACD;;;oCAEe;AACd,aAAO,KAAKC,WAAZ;AACD;;;gCAEW;AACV,aAAO,KAAKC,OAAZ;AACD;;AAED;;;;;;;;4BAKQN,G,EAAKb,M,EAAQ;AAAE;AACrB,aAAO,aAAGqB,KAAH,CAASR,GAAT,EAAcb,MAAd,CAAP;AACD;;;4BAEO;AACN,WAAKoB,OAAL,GAAe,gBAAMnB,IAAN,CAAWf,aAAX,CAAf;AACA,aAAO,IAAP;AACD;;;2BAEMoC,O,EAAS;AACd,WAAKF,OAAL,CAAajC,MAAb,GAAsBmC,OAAtB;AACA,aAAO,IAAP;AACD;;;0BAEKA,O,EAAS;AACb,WAAKF,OAAL,CAAa9B,KAAb,CAAmBa,IAAnB,CAAwBmB,OAAxB;AACA,aAAO,IAAP;AACD;;;yBAEId,K,EAAOC,E,EAAoB;AAAA,UAAhBF,IAAgB,uEAAT,OAAS;;AAC9B,WAAKa,OAAL,CAAa/B,IAAb,CAAkBc,IAAlB,CAAuB,EAAEK,YAAF,EAASC,MAAT,EAAaF,UAAb,EAAvB;AACA,aAAO,IAAP;AACD;;;4BAEOe,O,EAAS;AACf,WAAKF,OAAL,CAAa7B,OAAb,GAAuB+B,OAAvB;AACA,aAAO,IAAP;AACD;;;2BAEMA,O,EAAS;AACd,WAAKF,OAAL,CAAa5B,MAAb,GAAsB8B,OAAtB;AACA,aAAO,IAAP;AACD;;;4BAEOA,O,EAAS;AACf,WAAKF,OAAL,CAAa3B,OAAb,GAAuB6B,OAAvB;AACA,aAAO,IAAP;AACD;;;0BAEKA,O,EAAS;AACb,WAAKF,OAAL,CAAa1B,KAAb,GAAqB4B,OAArB;AACA,aAAO,IAAP;AACD;;;2BAEMA,O,EAAS;AACd,WAAKF,OAAL,CAAazB,MAAb,GAAsB2B,OAAtB;AACA,aAAO,IAAP;AACD;;AAED;;;;;;;;;;;;;;;;8BAaqB;AAAA,UAAbC,MAAa,uEAAJ,EAAI;;AACnB,UAAMV,MAAMjB,WAAW,KAAKqB,MAAhB,EAAwB,KAAKG,OAA7B,EAAsCtC,KAAKC,GAA3C,CAAZ;AACA,aAAO,KAAKyC,OAAL,CAAaX,GAAb,EAAkBU,MAAlB,EAA0BE,IAA1B,CAA+B,UAACC,MAAD,EAAY;AAAG;AACnD,YAAIA,UAAUA,OAAOC,IAAjB,IAAyBD,OAAOC,IAAP,CAAYrB,MAAZ,GAAqB,CAAlD,EAAqD;AACnD,iBAAO,mBAAQsB,OAAR,CAAgBF,OAAOC,IAAP,CAAY,CAAZ,CAAhB,CAAP;AACD;AACD,eAAO,mBAAQC,OAAR,CAAgB,IAAhB,CAAP;AACD,OALM,EAKJC,KALI,CAKE;AAAA,eAAO,mBAAQC,MAAR,CAAeC,GAAf,CAAP;AAAA,OALF,CAAP;AAMD;;AAED;;;;;;;;;;;;;;;;;;;;;;;8BAoBqB;AAAA,UAAbR,MAAa,uEAAJ,EAAI;;AACnB,UAAMV,MAAMjB,WAAW,KAAKqB,MAAhB,EAAwB,KAAKG,OAA7B,EAAsCtC,KAAKE,GAA3C,CAAZ;AACA,aAAO,KAAKwC,OAAL,CAAaX,GAAb,EAAkBU,MAAlB,EAA0BE,IAA1B,CAA+B,UAACC,MAAD,EAAY;AAAG;AACnD,YAAIA,UAAUA,OAAOC,IAAjB,IAAyBD,OAAOC,IAAP,CAAYrB,MAAZ,GAAqB,CAAlD,EAAqD;AACnD,iBAAO,mBAAQsB,OAAR,CAAgBF,OAAOC,IAAvB,CAAP;AACD;AACD,eAAO,mBAAQC,OAAR,CAAgB,EAAhB,CAAP;AACD,OALM,EAKJC,KALI,CAKE;AAAA,eAAO,mBAAQC,MAAR,CAAeC,GAAf,CAAP;AAAA,OALF,CAAP;AAMD;;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gCA4BuB;AAAA,UAAbR,MAAa,uEAAJ,EAAI;;AACrB,UAAMS,YAAYpC,WAAW,KAAKqB,MAAhB,EAAwB,KAAKG,OAA7B,EAAsCtC,KAAKG,KAA3C,CAAlB;AACA,UAAMgD,4FAA0FD,SAA1F,2BAAN;AACA,UAAMnB,MAAO,gBAAMT,eAAN,CAAsB,KAAKgB,OAAL,CAAa/B,IAAnC,IAA2C4C,WAA3C,GAAyDD,SAAtE;AACApD,YAAM,iBAAN,EAAyBiC,GAAzB;AACA,aAAO,KAAKW,OAAL,CAAaX,GAAb,EAAkBU,MAAlB,EAA0BE,IAA1B,CAA+B,UAACC,MAAD,EAAY;AAAG;AACnD,YAAMQ,QAASR,UAAUA,OAAOC,IAAjB,IAAyBD,OAAOC,IAAP,CAAYrB,MAAZ,GAAqB,CAA9C,IAAmD,OAAOoB,OAAOC,IAAP,CAAY,CAAZ,EAAeQ,aAAtB,KAAwC,WAA3F,GAAyGxB,SAASe,OAAOC,IAAP,CAAY,CAAZ,EAAeQ,aAAxB,EAAuC,EAAvC,CAAzG,GAAsJ,CAArK;AACA,eAAO,mBAAQP,OAAR,CAAgBM,KAAhB,CAAP;AACD,OAHM,EAGJL,KAHI,CAGE;AAAA,eAAO,mBAAQC,MAAR,CAAeC,GAAf,CAAP;AAAA,OAHF,CAAP;AAID;;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAyBuF;AAAA,UAA3ER,MAA2E,uEAAlE,EAAkE;AAAA,UAA9Da,YAA8D;AAAA,UAAhDC,eAAgD,uEAA9B,GAA8B;AAAA,UAAzBC,eAAyB,uEAAP,KAAO;;AACrF,aAAO,KAAKC,OAAL,CAAahB,MAAb,EAAqBE,IAArB,CAA0B,UAACe,OAAD,EAAa;AAC5C,YAAI;AACF,cAAMC,aAAa,gBAAMC,WAAN,CAAkBF,OAAlB,EAA2BJ,YAA3B,EAAyCC,eAAzC,EAA0DC,eAA1D,CAAnB,CADE,CAC6F;AAC/F,iBAAO,mBAAQV,OAAR,CAAgBa,UAAhB,CAAP;AACD,SAHD,CAGE,OAAOV,GAAP,EAAY;AACZ,iBAAO,mBAAQD,MAAR,CAAeC,GAAf,CAAP;AACD;AACF,OAPM,EAOJF,KAPI,CAOE;AAAA,eAAO,mBAAQC,MAAR,CAAeC,GAAf,CAAP;AAAA,OAPF,CAAP;AAQD;;AAED;;;;;;;;;;;;;;;;2BAaOY,I,EAAM;AACX,UAAIC,gBAAgB,IAApB,CADW,CACe;AAC1B,UAAI,gBAAMC,gBAAN,CAAuBF,IAAvB,CAAJ,EAAkC;AAChCA,eAAO,CAACA,IAAD,CAAP,CADgC,CACjB;AACfC,wBAAgB,KAAhB;AACD;AACD;AACA,UAAIE,QAAQ,EAAZ,CAPW,CAOK;AAChB,UAAIC,SAAS,EAAb,CARW,CAQM;AACjB,UAAIxB,SAAS,EAAb,CATW,CASM;AACjB,UAAIyB,UAAU,CAAd,CAVW,CAUM;AACjB,WAAK,IAAI3C,IAAI,CAAb,EAAgBA,IAAIsC,KAAKrC,MAAzB,EAAiCD,GAAjC,EAAsC;AAAE;AACtC,YAAI4C,UAAUN,KAAKtC,CAAL,CAAd,CADoC,CACb;AACvB,YAAI6C,UAAU,EAAd,CAFoC,CAElB;AAClB,aAAK,IAAIC,GAAT,IAAgBF,OAAhB,EAAyB;AAAE;AACzB,cAAIA,QAAQG,cAAR,CAAuBD,GAAvB,CAAJ,EAAiC;AAAE;AACjC,gBAAI9C,MAAM,CAAV,EAAa;AACX0C,qBAAO5C,IAAP,OAAgBgD,GAAhB;AACD;AACD,gBAAME,QAAQJ,QAAQE,GAAR,CAAd;AACA5B,mBAAOpB,IAAP,CAAYkD,KAAZ;AACAL,sBAN+B,CAMnB;AACZE,oBAAQ/C,IAAR,CAAa,MAAM6C,OAAnB,EAP+B,CAOD;AAC/B;AACF;AACDF,cAAM3C,IAAN,OAAe+C,QAAQ7D,IAAR,CAAa,IAAb,CAAf;AACD;AACD;AACA,UAAMwB,uBAAqB,KAAKI,MAA1B,SAAoC8B,OAAO1D,IAAP,CAAY,IAAZ,CAApC,iBAAiEyD,MAAMzD,IAAN,CAAW,IAAX,CAAjE,kBAAN;AACAT,YAAM,kBAAN,EAA0BiC,GAA1B;AACA,aAAO,KAAKW,OAAL,CAAaX,GAAb,EAAkBU,MAAlB,EAA0BE,IAA1B,CAA+B,UAACC,MAAD,EAAY;AAChD,YAAIA,UAAUA,OAAOC,IAAjB,IAAyBD,OAAOC,IAAP,CAAYrB,MAAZ,GAAqB,CAAlD,EAAqD;AACnD,iBAAO,mBAAQsB,OAAR,CAAgBgB,gBAAgBlB,OAAOC,IAAvB,GAA8BD,OAAOC,IAAP,CAAY,CAAZ,CAA9C,CAAP;AACD;AACD,eAAO,mBAAQC,OAAR,CAAgB,IAAhB,CAAP;AACD,OALM,EAKJC,KALI,CAKE;AAAA,eAAO,mBAAQC,MAAR,CAAeC,GAAf,CAAP;AAAA,OALF,CAAP;AAMD;;AAED;;;;;;;;;;;;;;;;;;;;;2BAkBOkB,O,EAAsB;AAAA,UAAb1B,MAAa,uEAAJ,EAAI;;AAC3B,UAAIwB,SAAS,EAAb,CAD2B,CACV;AACjB,UAAIC,UAAUzB,OAAOjB,MAArB,CAF2B,CAEE;AAC7B,WAAK,IAAI6C,GAAT,IAAgBF,OAAhB,EAAyB;AAAE;AACzB,YAAIA,QAAQG,cAAR,CAAuBD,GAAvB,CAAJ,EAAiC;AAAE;AACjCH,oBAD+B,CACnB;AACZD,iBAAO5C,IAAP,CAAY,OAAKgD,GAAL,aAAgBH,OAAhB,EAA2B3D,IAA3B,CAAgC,MAAhC,CAAZ,EAF+B,CAEuB;AACtD,cAAMgE,QAAQJ,QAAQE,GAAR,CAAd;AACA5B,iBAAOpB,IAAP,CAAYkD,KAAZ;AACD;AACF;AACD;AACA,UAAInD,WAAW,EAAf,CAZ2B,CAYR;AACnBA,eAASC,IAAT,kBAA6B,KAAKc,MAAlC;AACAf,eAASC,IAAT,UAAqB4C,OAAO1D,IAAP,CAAY,IAAZ,CAArB;AACA;AACA,UAAI,gBAAMe,eAAN,CAAsB,KAAKgB,OAAL,CAAa9B,KAAnC,CAAJ,EAA+C;AAC7CY,iBAASC,IAAT,aAAwB,KAAKiB,OAAL,CAAa9B,KAAb,CAAmBD,IAAnB,CAAwB,SAAxB,CAAxB;AACD;AACDa,eAASC,IAAT,CAAc,cAAd;AACA;AACA,UAAMU,MAAMX,SAASb,IAAT,CAAc,GAAd,CAAZ;AACAT,YAAM,kBAAN,EAA0BiC,GAA1B;AACA;AACA,aAAO,KAAKW,OAAL,CAAaX,GAAb,EAAkBU,MAAlB,EAA0BE,IAA1B,CAA+B,UAACC,MAAD,EAAY;AAChD,YAAIA,UAAUA,OAAOC,IAAjB,IAAyBD,OAAOC,IAAP,CAAYrB,MAAZ,GAAqB,CAAlD,EAAqD;AACnD,iBAAO,mBAAQsB,OAAR,CAAgBF,OAAOC,IAAvB,CAAP;AACD;AACD,eAAO,mBAAQC,OAAR,CAAgB,IAAhB,CAAP;AACD,OALM,EAKJC,KALI,CAKE;AAAA,eAAO,mBAAQC,MAAR,CAAeC,GAAf,CAAP;AAAA,OALF,CAAP;AAMD;;AAED;;;;;;;;;;;8BAQoB;AAAA,UAAbR,MAAa,uEAAJ,EAAI;;AAClB,UAAIrB,WAAW,EAAf,CADkB,CACC;AACnBA,eAASC,IAAT,kBAA6B,KAAKc,MAAlC;AACA;AACA,UAAI,gBAAMb,eAAN,CAAsB,KAAKgB,OAAL,CAAa9B,KAAnC,CAAJ,EAA+C;AAC7CY,iBAASC,IAAT,aAAwB,KAAKiB,OAAL,CAAa9B,KAAb,CAAmBD,IAAnB,CAAwB,SAAxB,CAAxB;AACD;AACDa,eAASC,IAAT,CAAc,cAAd;AACA;AACA,UAAMU,MAAMX,SAASb,IAAT,CAAc,GAAd,CAAZ;AACAT,YAAM,kBAAN,EAA0BiC,GAA1B;AACA;AACA,aAAO,KAAKW,OAAL,CAAaX,GAAb,EAAkBU,MAAlB,EAA0BE,IAA1B,CAA+B,UAACC,MAAD,EAAY;AAChD,YAAIA,UAAUA,OAAOC,IAAjB,IAAyBD,OAAOC,IAAP,CAAYrB,MAAZ,GAAqB,CAAlD,EAAqD;AACnD,iBAAO,mBAAQsB,OAAR,CAAgBF,OAAOC,IAAvB,CAAP;AACD;AACD,eAAO,mBAAQC,OAAR,CAAgB,IAAhB,CAAP;AACD,OALM,EAKJC,KALI,CAKE;AAAA,eAAO,mBAAQC,MAAR,CAAeC,GAAf,CAAP;AAAA,OALF,CAAP;AAMD;;AAED;;;;;;;AAGF;;;;;kBAGejB,gB","file":"app.postgres.model.js","sourceRoot":"../../../../.."}